# 商城

- 功能
  
  - 种类切换
  
    - 实现方式：三个按钮控制三个内容视图的显示隐藏
    
  - 物品展示
    - 实现方式：滑动视图网格排布方式展示，如果物品数量较多选择优化加载方式，
  
    - 优化滑动视图加载：超出展示区域多加载部分数据，利用上下物体循环利用的方式实现加载物体的减少，从而实现优化。
    
  - 物品详情
    
    - 实现方式:点击商品弹窗方式展示出物品的详情介绍
    - 详情弹窗的展示：物品加载时，自身挂载脚本记录相关详情信息，物品被点击后实例化弹窗预制体，将自身储存的信息传入弹窗预制体，点击详情展示面板外区域，弹窗消失。

- 数据交互

  - 进入商城界面，返回商城数据，
    
    - request
      ```json
      {
          "token":"",
      }
      ```
      response
      ```json
      {
      "code":0,
      "msg":{},
      "data":{
          "items":[
              {
                  "name":"",
                  "id":1001,
                  "type":"钻石/积分",
                  "desc":"",
                  "value":1001
              }
          ]
      }
      }
      ```
    
   - 购买
  
     - request
       ```json
       {
           "token":"",
           "itemid":""
       }
       ```
       response
       ```json
       {
       "code":0,
       "msg":{},
       "data":{
       }
       }
       ```

# 背包

- 功能
  - 基本功能与商城功能相同
  - 加载物品时取消购买按钮显示，
  - 物品显示呈现数量
  - 装扮跟道具详情弹窗显示使用按钮
  - 按钮显示通过预制体加载后初始化传入布尔值控制
  
- 数据交互

  - 进入背包界面，返回背包数据，

    - request
      ```json
      {
         "token":"",
      }
      ```
      response
      ```json
      {
      {
      "code":0,
      "msg":{},
      "data":{
          "items":[
              {
                  "name":"",
                  "id":1001,
                  "type":"道具类型",
                  "desc":"",
                  "count":0
              }
          ]
      }
      }
      }      
      ```
    
  - 使用道具
  
    - request
      ```json
      {
          "token":"",
          "itemid":""，
          "params":{}
      }
      ```
      response
      ```json
      {
      "code":0,
      "msg":{},
      "data":{
          "itemid":""
      }
      }
      ```
